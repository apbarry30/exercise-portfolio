<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Exercise Portfolio</title>
    <link href="css/style.css" rel="stylesheet" />
  </head>

  <body>

    <header>
      <!-- ADD YOUR NAME -->
      <h1>Amanda Barry: Exercise Portfolio</h1>
    </header>

    <div id="content">

      <nav>
        <ul>
          <li><a href="index.html">Return to Main Page</a></li>
        </ul>
      </nav>

      <main>

        <h2>apple close rates over time</h2>

        <p><!-- INFORMATION ABOUT YOUR VISUALIZATION: What is this about? --></p>

        <!-- ADD YOUR VISUALIZATION HERE -->


    </div>
    <script src="js/d3.min.js"></script>

    <script>

    var width= 900;
    var height= 500;

var padding= 30;
var margin= {
  top: 10,
  right:10,
  bottom:10,
  left:20
}

    var data= d3.csv("data/AAPL.csv").then(function(data){
      var timeParser = d3.timeParse("%_m/%_d/%y");
      data.forEach(function(d){
        d.Date = timeParser(d.Date);
        d.Close = +d.Close;

      });
         console.log(data);
         var svg = d3.select("body")
                     .append("svg")
                     .attr("width", width + margin.left + margin.right)
                     .attr("height", height + margin.top + margin.bottom);

       var xScale = d3.scaleTime()
                 .domain(d3.extent(data, function(d) {
                   return d.Date;
                 }))
                 .range([0,width]);

       var yScale =d3.scaleLinear()
    .domain([d3.min(data, function(d) {
      return d.Close;
    }), d3.max(data, function(d) {
      return d.Close;
    })])
       .range([height,0]);

       var line = d3.line()
       .x(function(d){
         return xScale(d.Date);
       })
       .y(function(d){
         return yScale(d.Close);
       });

       svg.append("path")
       .datum(data)
       .attr("class", "line")
       .attr("d", line)
       .attr("transform", "translate("+padding+", 0)");


       var xAxis= d3.axisBottom(xScale)

                   svg.append("g")
                   .attr("class", "xaxis")
                   .attr("transform", "translate("+padding+"," + (height) + ")")
                   .call(xAxis);

       var yAxis = d3.axisLeft(yScale)

                              svg.append("g")
                              .attr("class", "y-axis")
                              .attr("transform", "translate(" + padding+ ",0)")
                              .call(yAxis);
       });


    </script>

    </main>
  </body>
</html>
